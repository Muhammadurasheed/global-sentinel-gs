
# =================================================================
# 🔥 FIREBASE ADMIN SDK CONFIGURATION
# =================================================================
# Get these from Firebase Console > Project Settings > Service Accounts > Generate new private key

# Firebase Project ID (find in Firebase Console > Project Settings)
FIREBASE_PROJECT_ID=global-sentinel-aa33c

# Firebase Service Account Email (from the downloaded JSON file)
# Format: firebase-adminsdk-xxxxx@your-project-id.iam.gserviceaccount.com
FIREBASE_CLIENT_EMAIL=firebase-adminsdk-xxxxx@global-sentinel-aa33c.iam.gserviceaccount.com

# Firebase Private Key - CRITICAL FORMATTING RULES:
# 1. Wrap the ENTIRE key in double quotes
# 2. Include the -----BEGIN PRIVATE KEY----- and -----END PRIVATE KEY----- lines
# 3. Replace actual newlines with \n
# 4. Copy from the "private_key" field in your downloaded service account JSON
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQC...\nYOUR_ACTUAL_PRIVATE_KEY_CONTENT_HERE\n...rest of key...\n-----END PRIVATE KEY-----\n"

# =================================================================
# 🤖 AI API CONFIGURATION
# =================================================================

# OpenRouter API Key (for AI threat detection)
# Get from: https://openrouter.ai/keys
OPENROUTER_API_KEY=sk-or-v1-your-api-key-here

# Gemini API Key (optional backup for AI features)
# Get from: https://makersuite.google.com/app/apikey
GEMINI_API_KEY=your-gemini-api-key-here

# =================================================================
# 🌐 SERVER CONFIGURATION
# =================================================================

# Server port
PORT=5000

# Environment (development, staging, production)
NODE_ENV=development

# Frontend URL (for CORS configuration)
FRONTEND_URL=http://localhost:5173

# =================================================================
# 📋 SETUP CHECKLIST
# =================================================================
# 
# ✅ 1. Create Firebase project at https://console.firebase.google.com
# ✅ 2. Enable Firestore Database
# ✅ 3. Go to Project Settings > Service Accounts
# ✅ 4. Click "Generate new private key"
# ✅ 5. Download the JSON file
# ✅ 6. Copy project_id to FIREBASE_PROJECT_ID
# ✅ 7. Copy client_email to FIREBASE_CLIENT_EMAIL  
# ✅ 8. Copy private_key to FIREBASE_PRIVATE_KEY (with proper formatting)
# ✅ 9. Test connection with: npm run test-firebase
#
# =================================================================
# ⚠️  SECURITY NOTES
# =================================================================
#
# 🔒 NEVER commit the actual .env file to version control
# 🔒 The private key must include proper newline characters (\n)
# 🔒 Keep the private key wrapped in double quotes
# 🔒 Ensure project_id matches your Firebase project exactly
# 🔒 Client email should end with your-project-id.iam.gserviceaccount.com
# 🔒 Rotate keys regularly in production
# 🔒 Use different Firebase projects for dev/staging/production
#
# =================================================================
# 🔧 TROUBLESHOOTING
# =================================================================
#
# ❌ "Service account object must contain a string 'project_id' property"
#    → Check FIREBASE_PROJECT_ID is set and matches your Firebase project
#
# ❌ "Failed to parse private key"
#    → Ensure FIREBASE_PRIVATE_KEY has proper quotes and \n characters
#
# ❌ "Invalid service account"
#    → Verify FIREBASE_CLIENT_EMAIL matches the downloaded JSON
#
# ❌ "Permission denied"
#    → Check Firestore security rules and service account permissions
#
# 🔍 Test your config with: GET http://localhost:5000/health/firebase
#
